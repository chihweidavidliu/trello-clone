const a0_0x353d=['startTask','../../terminal-output/read-task-terminal-output','statuses','cache','scheduledTasks','nodes','getTerminalOutput','status','forEach','runtime','tasks','serializeOverrides','outputObfuscator','endTime','cleanUpHashDetails','target','hash','CloudEnabledLifeCycle','implicitDeps','code','task','../../../utilities/serializer-overrides','params','toISOString','startTime','runContext','collectTerminalOutput','remote-cache-hit','local-cache-kept-existing','remote-cache','hashDetails','push','taskId','defineProperty','project','Cannot\x20find\x20task\x20','scheduleTask','startsWith','filter','find','cacheDirectory','npm:','updateStartedTask'];(function(_0x456f76,_0x353d11){const _0x33f00a=function(_0x3e2f3f){while(--_0x3e2f3f){_0x456f76['push'](_0x456f76['shift']());}};_0x33f00a(++_0x353d11);}(a0_0x353d,0x187));const a0_0x33f0=function(_0x456f76,_0x353d11){_0x456f76=_0x456f76-0x0;let _0x33f00a=a0_0x353d[_0x456f76];return _0x33f00a;};'use strict';Object[a0_0x33f0('0x1d')](exports,'__esModule',{'value':!![]});exports[a0_0x33f0('0xd')]=void 0x0;const serializer_overrides_1=require(a0_0x33f0('0x11'));const read_task_terminal_output_1=require(a0_0x33f0('0x28'));class CloudEnabledLifeCycle{constructor(_0x58a96c,_0x1a3697,_0x1d531a,_0x4fcc2c,_0x4f90cf,_0x14c9fc){this[a0_0x33f0('0x15')]=_0x58a96c;this[a0_0x33f0('0x24')]=_0x1a3697;this[a0_0x33f0('0x16')]=_0x1d531a;this['cacheableOperations']=_0x4fcc2c;this['outputObfuscator']=_0x4f90cf;this[a0_0x33f0('0x6')]=_0x14c9fc;}[a0_0x33f0('0x20')](_0x21021d){this[a0_0x33f0('0x15')][a0_0x33f0('0x0')][a0_0x33f0('0x1b')](_0x21021d);}[a0_0x33f0('0x27')](_0x1367b1){this['tasks'][a0_0x33f0('0x1b')]({'taskId':_0x1367b1['id'],'startTime':new Date()[a0_0x33f0('0x13')](),'target':_0x1367b1['target'][a0_0x33f0('0xb')],'projectName':_0x1367b1[a0_0x33f0('0xb')][a0_0x33f0('0x1e')],'hash':_0x1367b1[a0_0x33f0('0xc')],'hashDetails':this['cleanUpHashDetails'](_0x1367b1[a0_0x33f0('0x1a')]),'params':(0x0,serializer_overrides_1[a0_0x33f0('0x7')])(_0x1367b1),'uploadedToStorage':![]});}['endTasks'](_0x1eb328){for(let _0x1c44ea of _0x1eb328){let _0x24f2fb;const _0x58a88a=_0x1c44ea[a0_0x33f0('0x3')]===a0_0x33f0('0x19');const _0x1a0a24=_0x1c44ea[a0_0x33f0('0x3')]===a0_0x33f0('0x2a');const _0x5e351f=_0x1c44ea['status']==='local-cache'||_0x1c44ea[a0_0x33f0('0x3')]===a0_0x33f0('0x18')||_0x1a0a24;if(this[a0_0x33f0('0x15')]['statuses'][_0x1c44ea['task'][a0_0x33f0('0xc')]]){_0x24f2fb=this[a0_0x33f0('0x15')][a0_0x33f0('0x29')][_0x1c44ea[a0_0x33f0('0x10')][a0_0x33f0('0xc')]];}else if(_0x58a88a){_0x24f2fb=a0_0x33f0('0x17');}else if(_0x5e351f){_0x24f2fb='local-cache-hit';}else{_0x24f2fb='cache-miss';}this[a0_0x33f0('0x26')](_0x1c44ea,_0x24f2fb);}}['endCommand'](){}[a0_0x33f0('0x26')](_0x2b4ef9,_0xc2cf30){const _0x3c63b6=this[a0_0x33f0('0x6')][a0_0x33f0('0x23')](_0x2b731f=>_0x2b731f[a0_0x33f0('0x1c')]===_0x2b4ef9[a0_0x33f0('0x10')]['id']);if(!_0x3c63b6){throw new Error(a0_0x33f0('0x1f')+_0x2b4ef9[a0_0x33f0('0x10')]['id']);}if((_0x2b4ef9===null||_0x2b4ef9===void 0x0?void 0x0:_0x2b4ef9['startTime'])&&(_0x2b4ef9===null||_0x2b4ef9===void 0x0?void 0x0:_0x2b4ef9['endTime'])){_0x3c63b6[a0_0x33f0('0x14')]=new Date(_0x2b4ef9[a0_0x33f0('0x14')])[a0_0x33f0('0x13')]();_0x3c63b6[a0_0x33f0('0x9')]=new Date(_0x2b4ef9[a0_0x33f0('0x9')])['toISOString']();}else{_0x3c63b6[a0_0x33f0('0x9')]=new Date()[a0_0x33f0('0x13')]();}_0x3c63b6['status']=_0x2b4ef9[a0_0x33f0('0xf')];_0x3c63b6[a0_0x33f0('0x12')]=this['outputObfuscator']['obfuscate'](_0x3c63b6[a0_0x33f0('0x12')]);_0x3c63b6['cacheStatus']=_0xc2cf30;if(this['collectTerminalOutput']){_0x3c63b6['terminalOutput']=this['getTerminalOutput'](_0x2b4ef9['task'][a0_0x33f0('0xc')],_0x3c63b6['cacheStatus'],_0x2b4ef9[a0_0x33f0('0xf')]);}}[a0_0x33f0('0x2')](_0x201120,_0x5f1191,_0x3935db){return(0x0,read_task_terminal_output_1['readTaskTerminalOutput'])(this[a0_0x33f0('0x24')],this[a0_0x33f0('0x8')],_0x201120,_0x5f1191,_0x3935db);}[a0_0x33f0('0xa')](_0x18a41e){const _0xbc4c6f={};Object['keys'](_0x18a41e[a0_0x33f0('0x1')])[a0_0x33f0('0x22')](_0x1c02f8=>!_0x1c02f8[a0_0x33f0('0x21')](a0_0x33f0('0x25')))[a0_0x33f0('0x4')](_0x4a5f7a=>{_0xbc4c6f[_0x4a5f7a]=_0x18a41e['nodes'][_0x4a5f7a];});return{'nodes':_0xbc4c6f,'runtime':_0x18a41e[a0_0x33f0('0x5')],'implicitDeps':_0x18a41e[a0_0x33f0('0xe')]};}}exports[a0_0x33f0('0xd')]=CloudEnabledLifeCycle;